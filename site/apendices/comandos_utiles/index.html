<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://jacedoe.github.io/server-labs/apendices/comandos_utiles/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Comandos √ötiles - Gu√≠a de Infraestructura Xen, Linux y contenedores</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Comandos \u00datiles";
        var mkdocs_page_input_path = "apendices/comandos_utiles.md";
        var mkdocs_page_url = "/server-labs/apendices/comandos_utiles/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Gu√≠a de Infraestructura Xen, Linux y contenedores
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">üè° Inicio</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">‚öôÔ∏è 1. Preparaci√≥n de la Infraestructura</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../preparacion/instalacion_xo_lite/">1.1. Servidor XCP-ng</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../preparacion/despliegue_vm_debian/">1.2. Despliegue VM Debian Trixie</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../preparacion/despliegue_vm_alpine.md">1.3. Despliegue VM Alpine LInux</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">üê≥ 2. Plataforma Web con Podman (Debian)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../web/preparacion_podman/">2.1. Preparaci√≥n de Podman</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../web/despliegue_wordpress/">2.2. Despliegue de WordPress Stack</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">üîí 3. Despliegue en producci√≥n de sitio web con Alpine/Nginx</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../web/nginx_config.md">3.1. Configuraci√≥n del stack Nginx-MariaDB-WordPress</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../seguridad/cloudflare_tunnel/">3.2. Cloudflare Tunnel</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">üìö Ap√©ndices</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Comandos √ötiles</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../guia-de-estilo.md">üìò Gu√≠a de Estilo (Oficial)</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Gu√≠a de Infraestructura Xen, Linux y contenedores</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">üìö Ap√©ndices</li>
      <li class="breadcrumb-item active">Comandos √ötiles</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/jacedoe/server-labs/edit/master/docs/apendices/comandos_utiles.md">Edit on server-labs</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p>üõ†Ô∏è Comandos √ötiles y de Referencia
Este ap√©ndice contiene una lista de comandos esenciales para la gesti√≥n diaria y la soluci√≥n de problemas (troubleshooting) de los componentes clave de la infraestructura.</p>
<ol>
<li>‚öôÔ∏è Gesti√≥n de la M√°quina Virtual (XCP-ng Console)
Estos comandos se ejecutan en la consola de root del servidor XCP-ng.</li>
</ol>
<p>Verificar el estado del host:</p>
<pre><code>xe host-list
</code></pre>
<p>Verificar el estado de las VMs:</p>
<pre><code>xe vm-list
</code></pre>
<p>Encender una VM (usando el nombre):</p>
<pre><code>xe vm-start vm=[Nombre de la VM]
</code></pre>
<p>Apagar una VM (apagado limpio):</p>
<pre><code>xe vm-shutdown vm=[Nombre de la VM]
</code></pre>
<p>Verificar el estado de los Storage Repositories (SR):</p>
<pre><code>xe sr-list
</code></pre>
<p>1.2. Ejemplo de redimensionamiento de una VM Alpine Linux de 20 GiB a 40 GiB</p>
<p>Ejecutar en el host Xen</p>
<pre><code>xe vm-shutdown vm=VM
xe vm-disk-list vm=VM
xe vdi-resize uuid=VDI_UUID disk-size=40GiB
xe vm-start vm=VM

</code></pre>
<p>Ejecutar en la VM Alpine</p>
<pre><code>apk add util-linux e2fsprogs
growpart /dev/xvda 3
resize2fs /dev/xvda3
df -h

</code></pre>
<ol>
<li>üê≥ Gesti√≥n de Contenedores (Podman)
Estos comandos se ejecutan dentro de la VM Debian como tu usuario est√°ndar (admin), en modo rootless.</li>
</ol>
<p>Verificar todos los contenedores (activos e inactivos):</p>
<pre><code>podman ps -a
</code></pre>
<p>Verificar todas las im√°genes descargadas:</p>
<pre><code>podman images
</code></pre>
<p>Verificar las redes de Podman:</p>
<pre><code>podman network ls
</code></pre>
<p>Detener el stack completo (en el directorio del podman-compose.yml):</p>
<pre><code>podman-compose down
</code></pre>
<p>Reiniciar el stack:</p>
<pre><code>podman-compose restart
</code></pre>
<p>Ver logs de un contenedor (ej: WordPress):</p>
<pre><code>podman logs -f wordpress_app
</code></pre>
<p>Ejecutar un comando dentro de un contenedor (ej:   en NGINX):</p>
<pre><code>podman exec -it nginx_proxy /bin/ 
</code></pre>
<p>Limpiar contenedores y vol√∫menes no utilizados (¬°Usar con precauci√≥n!):</p>
<pre><code>podman system prune
</code></pre>
<ol>
<li>üõ°Ô∏è Cloudflared
Estos comandos se ejecutan en la VM Debian para verificar el estado de los servicios.</li>
</ol>
<p>A. Cloudflare Tunnel
Verificar el estado del servicio cloudflared:</p>
<pre><code>sudo systemctl status cloudflared
</code></pre>
<p>Ver logs del servicio cloudflared:</p>
<pre><code>sudo journalctl -u cloudflared -f
</code></pre>
<p>üõ†Ô∏è </p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../seguridad/cloudflare_tunnel/" class="btn btn-neutral float-left" title="3.2. Cloudflare Tunnel"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../seguridad/cloudflare_tunnel/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
